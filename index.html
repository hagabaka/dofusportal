<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/sammy.js/0.7.4/sammy.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js"></script>
    <script>(function() {
  var sammy, viewModel;

  viewModel = {
    portals: ko.observable({}),
    server: ko.observable('')
  };

  window.viewModel = viewModel;

  sammy = Sammy('#main', function() {
    return this.get(/rushu/, function() {
      var server;
      server = location.hash.replace(/^#/, '');
      return $.getJSON("//api.dofusportal.tk/" + server, function(data) {
        viewModel.portals(data);
        viewModel.server(server);
        return ko.applyBindings(viewModel);
      });
    });
  });

  $(function() {
    return sammy.run();
  });

}).call(this);

    </script>
  </head>
  <body>
    <h1>Where is portal?</h1>
    <ul data-bind="foreach: {data: Object.keys(portals()), as: &quot;dimension&quot;}">
      <h2 data-bind="text: dimension"></h2>
      <ul data-bind="foreach: {data: $root.portals()[dimension]}">
        <li data-bind="text: coordinates"></li>
      </ul>
    </ul>
  </body>
</html>